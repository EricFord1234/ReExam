(function() {
    var Bug, Food;
  
    Bug = class Bug {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.vx = 0;
        this.vy = 0;
        this.radius = 1;
        this.spurt = 0.5;
        this.color = '#fff';
        this.hasTarget = false;
        this;
      }
  
      update(ctx, index, ndt) {
        var closestTarget, dist, dx, dy, food, i, lowestDist, target;
        this.hasTarget = false;
        if (ctx.food.length) {
          lowestDist = 999999;
          closestTarget = null;
          i = ctx.food.length;
          while (i--) {
            food = ctx.food[i];
            dx = this.x - food.x;
            dy = this.y - food.y;
            dist = sqrt(dx * dx + dy * dy);
            if (dist < lowestDist) {
              lowestDist = dist;
              closestTarget = i;
            }
          }
          target = ctx.food[closestTarget];
          dx = this.x - target.x;
          dy = this.y - target.y;
          dist = sqrt(dx * dx + dy * dy);
          if (dist < target.threshold + target.radius && target.active) {
            this.hasTarget = true;
            if (dist < target.radius * (target.life / target.radius) + 5) {
              target.life -= 0.004;
            }
          }
        }
        if (this.hasTarget) {
          this.vx += (random(-0.2, 0.2)) * this.spurt;
          this.vy += (random(-0.2, 0.2)) * this.spurt;
          this.vx -= dx / 500;
          this.vy -= dy / 500;
        } else {
          this.vx += (random(-0.2, 1)) * this.spurt;
          this.vy += (random(-0.2, 0.2)) * this.spurt;
        }
        this.x += this.vx * ndt;
        this.y += this.vy * ndt;
        this.vx *= 0.95;
        this.vy *= 0.95;
        if (this.spurt > 0.5) {
          this.spurt -= 0.1;
        }
        if (this.spurt <= 0.5 && !floor(random(1000))) {
          return this.spurt = random(1, 4);
        }
      }
  
      wrap(ctx) {
        if (!this.hasTarget) {
          if (this.x > ctx.width + this.radius) {
            this.x = -this.radius;
          } else if (this.x < -this.radius) {
            this.x = ctx.width + this.radius;
          }
          if (this.y > ctx.height + this.radius) {
            return this.y = -this.radius;
          } else if (this.y < -this.radius) {
            return this.y = ctx.height + this.radius;
          }
        }
      }
  
    };
  
    Food = class Food {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.growthRadius = 0.0001;
        this.radius = random(20, 50);
        this.life = this.radius;
        this.threshold = 50;
        this.active = false;
        this;
      }
  
      update(ctx, index, ndt) {
        if (!this.active) {
          this.growthRadius += 1;
          if (this.growthRadius >= this.radius) {
            this.active = true;
          }
        }
        if (this.life <= 0) {
          return ctx.food.splice(index, 1);
        }
      }
  
    };
  
    Sketch.create({
      setup: function() {
        var i;
        this.tick = 0;
        this.mouse.x = this.width / 2;
        this.mouse.y = this.height / 2;
        this.food = (function() {
          var j, results;
          results = [];
          for (i = j = 0; j <= 0; i = ++j) {
            results.push(new Food(random(this.width), random(this.height)));
          }
          return results;
        }).call(this);
        return this.bugs = (function() {
          var j, results;
          results = [];
          for (i = j = 0; j <= 2000; i = ++j) {
            results.push(new Bug(0, random(this.height)));
          }
          return results;
        }).call(this);
      },
      mousedown: function() {
        return this.food.push(new Food(this.mouse.x, this.mouse.y));
      },
      update: function() {
        var i, results;
        this.ndt = max(0.001, this.dt / (1000 / 60));
        this.tick++;
        if (this.tick % 50 === 0) {
          this.food.push(new Food(random(this.width), random(this.height)));
        }
        i = this.food.length;
        while (i--) {
          this.food[i].update(this, i, this.ndt);
        }
        i = this.bugs.length;
        results = [];
        while (i--) {
          this.bugs[i].wrap(this);
          results.push(this.bugs[i].update(this, i, this.ndt));
        }
        return results;
      },
      draw: function() {
        var bug, food, i;
        this.fillStyle = '#d33';
        i = this.food.length;
        while (i--) {
          this.beginPath();
          food = this.food[i];
          if (food.active) {
            this.arc(food.x, food.y, max(0.0001, food.radius * (food.life / food.radius)), 0, TWO_PI);
          } else {
            this.arc(food.x, food.y, food.growthRadius, 0, TWO_PI);
          }
          this.fill();
        }
        this.beginPath();
        this.fillStyle = '#fff';
        i = this.bugs.length;
        while (i--) {
          bug = this.bugs[i];
          this.rect(~~bug.x, ~~bug.y, 1, 1);
        }
        this.fill();
        this.beginPath();
        this.arc(this.mouse.x, this.mouse.y, 10 - cos(this.millis / 100) * 2, 0, TWO_PI);
        this.strokeStyle = '#d33';
        return this.stroke();
      }
    });
  
  }).call(this);
  
  //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFBLEdBQUEsRUFBQTs7RUFBTSxNQUFOLE1BQUEsSUFBQTtJQUVFLFdBQWEsQ0FBRSxDQUFGLEVBQUssQ0FBTCxDQUFBO01BQ1gsSUFBQyxDQUFBLENBQUQsR0FBSztNQUNMLElBQUMsQ0FBQSxDQUFELEdBQUs7TUFDTCxJQUFDLENBQUEsRUFBRCxHQUFNO01BQ04sSUFBQyxDQUFBLEVBQUQsR0FBTTtNQUNOLElBQUMsQ0FBQSxNQUFELEdBQVU7TUFDVixJQUFDLENBQUEsS0FBRCxHQUFTO01BQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUztNQUNULElBQUMsQ0FBQSxTQUFELEdBQWE7TUFDYjtJQVRXOztJQVdiLE1BQVEsQ0FBRSxHQUFGLEVBQU8sS0FBUCxFQUFjLEdBQWQsQ0FBQTtBQUNOLFVBQUEsYUFBQSxFQUFBLElBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLElBQUEsRUFBQSxDQUFBLEVBQUEsVUFBQSxFQUFBO01BQUEsSUFBQyxDQUFBLFNBQUQsR0FBYTtNQUViLElBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFaO1FBQ0UsVUFBQSxHQUFhO1FBQ2IsYUFBQSxHQUFnQjtRQUNoQixDQUFBLEdBQUksR0FBRyxDQUFDLElBQUksQ0FBQztBQUNiLGVBQU0sQ0FBQSxFQUFOO1VBQ0UsSUFBQSxHQUFPLEdBQUcsQ0FBQyxJQUFNLENBQUEsQ0FBQTtVQUNqQixFQUFBLEdBQUssSUFBQyxDQUFBLENBQUQsR0FBSyxJQUFJLENBQUM7VUFDZixFQUFBLEdBQUssSUFBQyxDQUFBLENBQUQsR0FBSyxJQUFJLENBQUM7VUFDZixJQUFBLEdBQU8sSUFBQSxDQUFNLEVBQUEsR0FBSyxFQUFMLEdBQVUsRUFBQSxHQUFLLEVBQXJCO1VBQ1AsSUFBRyxJQUFBLEdBQU8sVUFBVjtZQUNFLFVBQUEsR0FBYTtZQUNiLGFBQUEsR0FBZ0Is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LENBQUMsR0FBRyxDQUFDLENBQXRCLEVBQXlCLENBQXpCLEVBQTRCLENBQTVCO01BRkY7TUFHQSxJQUFDLENBQUEsSUFBRCxDQUFBO01BRUEsSUFBQyxDQUFBLFNBQUQsQ0FBQTtNQUNBLElBQUMsQ0FBQSxHQUFELENBQU0sSUFBQyxDQUFBLEtBQUssQ0FBQyxDQUFiLEVBQWdCLElBQUMsQ0FBQSxLQUFLLENBQUMsQ0FBdkIsRUFBMEIsRUFBQSxHQUFLLEdBQUEsQ0FBSyxJQUFDLENBQUEsTUFBRCxHQUFVLEdBQWYsQ0FBQSxHQUF1QixDQUF0RCxFQUF5RCxDQUF6RCxFQUE0RCxNQUE1RDtNQUNBLElBQUMsQ0FBQSxXQUFELEdBQWU7YUFDZixJQUFDLENBQUEsTUFBRCxDQUFBO0lBdkJJO0VBMUJOLENBREY7QUFuRkEiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCdWdcbiAgXG4gIGNvbnN0cnVjdG9yOiAoIHgsIHkgKSAtPlxuICAgIEB4ID0geFxuICAgIEB5ID0geVxuICAgIEB2eCA9IDBcbiAgICBAdnkgPSAwXG4gICAgQHJhZGl1cyA9IDFcbiAgICBAc3B1cnQgPSAwLjVcbiAgICBAY29sb3IgPSAnI2ZmZidcbiAgICBAaGFzVGFyZ2V0ID0gZmFsc2VcbiAgICBAXG4gICAgXG4gIHVwZGF0ZTogKCBjdHgsIGluZGV4LCBuZHQgKSAtPlxuICAgIEBoYXNUYXJnZXQgPSBmYWxzZVxuICAgIFxuICAgIGlmIGN0eC5mb29kLmxlbmd0aFxuICAgICAgbG93ZXN0RGlzdCA9IDk5OTk5OVxuICAgICAgY2xvc2VzdFRhcmdldCA9IG51bGxcbiAgICAgIGkgPSBjdHguZm9vZC5sZW5ndGhcbiAgICAgIHdoaWxlIGktLVxuICAgICAgICBmb29kID0gY3R4LmZvb2RbIGkgXSAgXG4gICAgICAgIGR4ID0gQHggLSBmb29kLnhcbiAgICAgICAgZHkgPSBAeSAtIGZvb2QueVxuICAgICAgICBkaXN0ID0gc3FydCggZHggKiBkeCArIGR5ICogZHkgKVxuICAgICAgICBpZiBkaXN0IDwgbG93ZXN0RGlzdFxuICAgICAgICAgIGxvd2VzdERpc3QgPSBkaXN0XG4gICAgICAgICAgY2xvc2VzdFRhcmdldCA9IGlcbiAgICBcbiAgICAgIHRhcmdldCA9IGN0eC5mb29kWyBjbG9zZXN0VGFyZ2V0IF1cbiAgICAgIGR4ID0gQHggLSB0YXJnZXQueFxuICAgICAgZHkgPSBAeSAtIHRhcmdldC55XG4gICAgICBkaXN0ID0gc3FydCggZHggKiBkeCArIGR5ICogZHkgKVxuICAgICAgaWYgZGlzdCA8IHRhcmdldC50aHJlc2hvbGQgKyB0YXJnZXQucmFkaXVzICYmIHRhcmdldC5hY3RpdmUgXG4gICAgICAgIEBoYXNUYXJnZXQgPSB0cnVlXG4gICAgICAgIGlmIGRpc3QgPCB0YXJnZXQucmFkaXVzICogKCB0YXJnZXQubGlmZSAvIHRhcmdldC5yYWRpdXMgKSArIDVcbiAgICAgICAgICB0YXJnZXQubGlmZSAtPSAwLjAwNCAgICAgIFxuICAgXG4gICAgaWYgQGhhc1RhcmdldFxuICAgICAgQHZ4ICs9ICggcmFuZG9tKCAtMC4yLCAwLjIgKSApICogQHNwdXJ0XG4gICAgICBAdnkgKz0gKCByYW5kb20oIC0wLjIsIDAuMiApICkgKiBAc3B1cnRcbiAgICAgIEB2eCAtPSBkeCAvIDUwMFxuICAgICAgQHZ5IC09IGR5IC8gNTAwXG4gICAgZWxzZVxuICAgICAgQHZ4ICs9ICggcmFuZG9tKCAtMC4yLCAxICkgKSAqIEBzcHVydFxuICAgICAgQHZ5ICs9ICggcmFuZG9tKCAtMC4yLCAwLjIgKSApICogQHNwdXJ0XG4gICAgQHggKz0gQHZ4ICogbmR0XG4gICAgQHkgKz0gQHZ5ICogbmR0XG4gICAgQHZ4ICo9IDAuOTVcbiAgICBAdnkgKj0gMC45NVxuICAgICAgXG4gICAgaWYgQHNwdXJ0ID4gMC41IHRoZW4gQHNwdXJ0IC09IDAuMVxuICAgICAgXG4gICAgaWYgQHNwdXJ0IDw9IDAuNSBhbmQgIWZsb29yKCByYW5kb20oIDEwMDAgKSApXG4gICAgICBAc3B1cnQgPSByYW5kb20oIDEsIDQgKVxuICAgICAgXG4gIHdyYXA6ICggY3R4ICkgLT4gICAgXG4gICAgaWYgIUBoYXNUYXJnZXRcbiAgICAgIGlmIEB4ID4gY3R4LndpZHRoICsgQHJhZGl1cyB0aGVuIEB4ID0gLUByYWRpdXNcbiAgICAgIGVsc2UgaWYgQHggPCAtQHJhZGl1cyB0aGVuIEB4ID0gY3R4LndpZHRoICsgQHJhZGl1c1xuICAgICAgaWYgQHkgPiBjdHguaGVpZ2h0ICsgQHJhZGl1cyB0aGVuIEB5ID0gLUByYWRpdXNcbiAgICAgIGVsc2UgaWYgQHkgPCAtQHJhZGl1cyB0aGVuIEB5ID0gY3R4LmhlaWdodCArIEByYWRpdXNcblxuY2xhc3MgRm9vZFxuICBcbiAgY29uc3RydWN0b3I6ICggeCwgeSApIC0+XG4gICAgQHggPSB4XG4gICAgQHkgPSB5XG4gICAgQGdyb3d0aFJhZGl1cyA9IDAuMDAwMVxuICAgIEByYWRpdXMgPSByYW5kb20oIDIwLCA1MCApXG4gICAgQGxpZmUgPSBAcmFkaXVzICAgIFxuICAgIEB0aHJlc2hvbGQgPSA1MFxuICAgIEBhY3RpdmUgPSBmYWxzZVxuICAgIEBcbiAgICBcbiAgdXBkYXRlOiAoIGN0eCwgaW5kZXgsIG5kdCApIC0+XG4gICAgaWYgIUBhY3RpdmVcbiAgICAgIEBncm93dGhSYWRpdXMgKz0gMVxuICAgICAgaWYgQGdyb3d0aFJhZGl1cyA+PSBAcmFkaXVzXG4gICAgICAgIEBhY3RpdmUgPSB0cnVlXG4gICAgaWYgQGxpZmUgPD0gMFxuICAgICAgY3R4LmZvb2Quc3BsaWNlKCBpbmRleCwgMSApICBcbiAgICAgICAgICAgIFxuU2tldGNoLmNyZWF0ZSAgXG4gIHNldHVwOiAtPlxuICAgIEB0aWNrID0gMFxuICAgIEBtb3VzZS54ID0gQHdpZHRoIC8gMlxuICAgIEBtb3VzZS55ID0gQGhlaWdodCAvIDJcbiAgICBAZm9vZCA9ICggbmV3IEZvb2QoIHJhbmRvbSggQHdpZHRoICksIHJhbmRvbSggQGhlaWdodCApICkgZm9yIGkgaW4gWyAwLi4wIF0gKVxuICAgIEBidWdzID0gKCBuZXcgQnVnKCAwLCByYW5kb20oIEBoZWlnaHQgKSApIGZvciBpIGluIFsgMC4uMjAwMCBdIClcbiAgXG4gIG1vdXNlZG93bjogLT5cbiAgICBAZm9vZC5wdXNoKCBuZXcgRm9vZCggQG1vdXNlLngsIEBtb3VzZS55ICkgKVxuICAgIFxuICB1cGRhdGU6IC0+XG4gICAgQG5kdCA9IG1heCAwLjAwMSwgQGR0IC8gKCAxMDAwIC8gNjAgKVxuICAgIEB0aWNrKytcbiAgICAgIFxuICAgIGlmIEB0aWNrICUgNTAgPT0gMFxuICAgICAgQGZvb2QucHVzaCggbmV3IEZvb2QoIHJhbmRvbSggQHdpZHRoICksIHJhbmRvbSggQGhlaWdodCApICkgKVxuICAgICAgXG4gICAgaSA9IEBmb29kLmxlbmd0aFxuICAgIHdoaWxlIGktLVxuICAgICAgQGZvb2RbIGkgXS51cGRhdGUoIEAsIGksIEBuZHQgKVxuICAgICAgICBcbiAgICBpID0gQGJ1Z3MubGVuZ3RoXG4gICAgd2hpbGUgaS0tXG4gICAgICBAYnVnc1sgaSBdLndyYXAoIEAgKVxuICAgICAgQGJ1Z3NbIGkgXS51cGRhdGUoIEAsIGksIEBuZHQgKVxuICAgIFxuICBkcmF3OiAtPlxuICAgIEBmaWxsU3R5bGUgPSAnI2QzMydcbiAgICBpID0gQGZvb2QubGVuZ3RoXG4gICAgd2hpbGUgaS0tXG4gICAgICBAYmVnaW5QYXRoKClcbiAgICAgIGZvb2QgPSBAZm9vZFsgaSBdXG4gICAgICBpZiBmb29kLmFjdGl2ZVxuICAgICAgICBAYXJjKCBmb29kLngsIGZvb2QueSwgbWF4KCAwLjAwMDEsICggZm9vZC5yYWRpdXMgKiAoIGZvb2QubGlmZSAvIGZvb2QucmFkaXVzKSApICksIDAsIFRXT19QSSApXG4gICAgICBlbHNlXG4gICAgICAgIEBhcmMoIGZvb2QueCwgZm9vZC55LCBmb29kLmdyb3d0aFJhZGl1cywgMCwgVFdPX1BJIClcbiAgICAgIEBmaWxsKCkgICAgXG4gICAgICAgIFxuICAgIEBiZWdpblBhdGgoKVxuICAgIEBmaWxsU3R5bGUgPSAnI2ZmZidcbiAgICBpID0gQGJ1Z3MubGVuZ3RoXG4gICAgd2hpbGUgaS0tXG4gICAgICBidWcgPSBAYnVnc1sgaSBdXG4gICAgICBAcmVjdCggfn5idWcueCwgfn5idWcueSwgMSwgMSApXG4gICAgQGZpbGwoKVxuICAgICAgXG4gICAgQGJlZ2luUGF0aCgpXG4gICAgQGFyYyggQG1vdXNlLngsIEBtb3VzZS55LCAxMCAtIGNvcyggQG1pbGxpcyAvIDEwMCApICogMiwgMCwgVFdPX1BJIClcbiAgICBAc3Ryb2tlU3R5bGUgPSAnI2QzMydcbiAgICBAc3Ryb2tlKCkiXX0=
  //# sourceURL=coffeescript